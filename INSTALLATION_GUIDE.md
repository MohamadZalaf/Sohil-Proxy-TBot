# 🚀 دليل التثبيت والتشغيل - بوت البروكسي

## 📋 المتطلبات الأساسية

### للبوت (Python):
- Python 3.7 أو أحدث
- pip (مدير الحزم)
- اتصال بالإنترنت

### للتطبيق (React Native):
- Node.js 16 أو أحدث
- npm أو yarn
- Expo CLI
- Android Studio (لإنشاء APK)

## 🔧 التثبيت والإعداد

### الخطوة 1: تثبيت البوت

```bash
# 1. تنزيل المشروع
cd /path/to/your/directory
# (ضع الملفات في المجلد المطلوب)

# 2. تثبيت المتطلبات
pip install -r requirements.txt

# 3. تشغيل البوت
python start_bot.py
```

### الخطوة 2: تثبيت التطبيق

```bash
# 1. تثبيت المتطلبات
npm install

# 2. تشغيل التطبيق في وضع التطوير
npm start

# 3. لإنشاء APK
expo build:android
```

## ⚙️ الإعدادات المهمة

### إعدادات البوت:
- **معرف البوت**: `8408804784:AAG8cSTsDQfycDaXOX9YMmc_OB3wABez7LA`
- **معرف الأدمن**: `6891599955`
- **المنفذ**: `5000`
- **قاعدة البيانات**: `proxy_bot.db` (يتم إنشاؤها تلقائياً)

### إعدادات التطبيق:
- **عنوان API**: `http://localhost:5000/api`
- **اللغة**: العربية
- **الموضوع**: Material Design 3

## 🎯 خطوات التشغيل السريع

### 1️⃣ تشغيل البوت
```bash
python start_bot.py
```
سترى الرسائل التالية:
```
🚀 بدء تشغيل خادم البوت...
✅ تم تشغيل البوت بنجاح
🌐 الخادم يعمل على: http://localhost:5000
📱 يمكنك الآن استخدام تطبيق الإدارة
```

### 2️⃣ تشغيل التطبيق
```bash
npm start
```

### 3️⃣ فتح التطبيق
- اختر "Android" من قائمة Expo
- أو امسح الـ QR Code بتطبيق Expo Go

## 📱 استخدام التطبيق

### صفحة إدارة البوت:
- ✅ تشغيل/إيقاف البوت
- ⚙️ تعديل إعدادات API
- 📅 جدولة التشغيل التلقائي
- 🔧 أدوات الصيانة

### صفحة إدارة البروكسيات:
- ➕ إضافة أنواع بروكسي جديدة
- ✏️ تعديل الأسعار والأوصاف
- 📊 عرض الإحصائيات
- 🔄 تحديث الحالة

### صفحة إدارة المستخدمين:
- 👥 عرض قائمة المستخدمين
- 🚫 حظر/إلغاء حظر المستخدمين
- 🔍 البحث في المستخدمين
- 📈 إحصائيات الاستخدام

### صفحة إدارة الطلبات:
- 📋 عرض الطلبات المعلقة والمكتملة
- ⚡ معالجة الطلبات بالتفصيل
- 📅 اختيار تاريخ انتهاء الصلاحية
- 📤 إرسال معلومات البروكسي

### صفحة إدارة المدفوعات:
- 💰 عرض إجمالي الأرباح
- 💲 تعديل أسعار البروكسيات
- 📊 تحليل الأرباح
- 🧮 أدوات مالية متقدمة

## 🔔 نظام الإشعارات

### إشعارات المستخدمين:
- ✅ تأكيد استلام الطلب
- 📦 إرسال معلومات البروكسي
- 🚫 إشعارات الحظر/إلغاء الحظر

### إشعارات الأدمن:
- 🔔 طلبات جديدة
- ✅ إكمال الطلبات
- 🚀 بدء/إيقاف البوت
- 👤 إدارة المستخدمين
- 🆕 إضافة أنواع بروكسي جديدة

## 🛠️ استكشاف الأخطاء

### مشاكل شائعة وحلولها:

#### 1. البوت لا يستجيب:
```bash
# تحقق من الاتصال بالإنترنت
ping google.com

# تحقق من صحة معرف البوت
# تأكد من أن البوت نشط في BotFather
```

#### 2. التطبيق لا يتصل بالبوت:
```bash
# تأكد من أن البوت يعمل على المنفذ 5000
netstat -an | grep 5000

# تحقق من عنوان API في التطبيق
# يجب أن يكون: http://localhost:5000/api
```

#### 3. خطأ في قاعدة البيانات:
```bash
# احذف قاعدة البيانات وأعد تشغيل البوت
rm proxy_bot.db
python start_bot.py
```

#### 4. مشاكل في التطبيق:
```bash
# امسح cache وأعد التثبيت
rm -rf node_modules
npm install
npm start
```

## 📊 قاعدة البيانات

### الجداول المنشأة تلقائياً:
- `users` - معلومات المستخدمين
- `proxy_types` - أنواع البروكسيات
- `orders` - الطلبات
- `earnings` - الأرباح
- `bot_settings` - إعدادات البوت

### النسخ الاحتياطية:
```bash
# إنشاء نسخة احتياطية
cp proxy_bot.db proxy_bot_backup.db

# استعادة من النسخة الاحتياطية
cp proxy_bot_backup.db proxy_bot.db
```

## 🔐 الأمان

### نصائح الأمان:
- 🔒 لا تشارك معرف البوت مع أحد
- 🛡️ غير معرف الأدمن إذا لزم الأمر
- 💾 اعمل نسخ احتياطية منتظمة
- 🔄 راقب النشاط بانتظام

### تغيير معرف الأدمن:
```python
# في ملف telegram_proxy_bot.py
ADMIN_ID = "معرف_الأدمن_الجديد"
```

## 📱 إنشاء APK

### باستخدام Expo:
```bash
# 1. بناء APK
expo build:android

# 2. تنزيل APK
# ستحصل على رابط التنزيل من Expo

# 3. تثبيت APK على الهاتف
# انقل الملف وثبته على Android
```

### باستخدام Android Studio:
```bash
# 1. تصدير المشروع
expo eject

# 2. فتح في Android Studio
# افتح مجلد android/

# 3. بناء APK
# Build > Build Bundle(s) / APK(s) > Build APK(s)
```

## 🔄 التحديثات

### تحديث البوت:
```bash
# 1. إيقاف البوت
# اضغط Ctrl+C

# 2. تحديث الملفات
# استبدل الملفات الجديدة

# 3. إعادة التشغيل
python start_bot.py
```

### تحديث التطبيق:
```bash
# 1. تحديث المتطلبات
npm update

# 2. إعادة البناء
npm start
```

## 📞 الدعم الفني

### في حالة وجود مشاكل:
1. 📋 تحقق من هذا الدليل أولاً
2. 🔍 ابحث في ملف README.md
3. 💬 تواصل مع الأدمن: `6891599955`

### معلومات مفيدة للدعم:
- نظام التشغيل
- إصدار Python/Node.js
- رسالة الخطأ كاملة
- الخطوات التي قمت بها

## ✅ قائمة التحقق النهائية

### قبل البدء:
- [ ] Python مثبت ويعمل
- [ ] Node.js مثبت ويعمل
- [ ] Expo CLI مثبت
- [ ] اتصال إنترنت مستقر

### بعد التثبيت:
- [ ] البوت يعمل على المنفذ 5000
- [ ] التطبيق يتصل بالبوت
- [ ] يمكن إضافة أنواع بروكسي
- [ ] يمكن معالجة الطلبات
- [ ] الإشعارات تعمل

### الاختبار النهائي:
1. [ ] أرسل `/start` للبوت
2. [ ] اطلب بروكسي من البوت
3. [ ] عالج الطلب من التطبيق
4. [ ] تحقق من وصول البروكسي

---

## 🎉 تهانينا!

إذا وصلت إلى هنا، فقد نجحت في تثبيت وتشغيل **بوت البروكسي** بالكامل! 

النظام الآن جاهز لاستقبال الطلبات ومعالجتها. استمتع بإدارة أعمال البروكسي بكفاءة عالية! 🚀

**تم التطوير بـ ❤️ من أجل تجربة مستخدم مثالية**